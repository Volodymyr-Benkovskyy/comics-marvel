!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=e.parcelRequirece98;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var s={id:e,exports:{}};return t[e]=s,o.call(s.exports,s,s.exports),s.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequirece98=o);var s=o("7lKJl"),i=o("2xl03"),a=o("81V9Z"),s=o("7lKJl"),a=o("81V9Z"),i=o("2xl03"),l=o("1VFfL");let c="",n="",d="",m="",u="";u=(0,i.getItemsPerPage)();let h=document.querySelector(".js-comics-sort-form"),f=document.querySelector(".js-comics-sort-container"),g=document.getElementById("comics-list"),L=document.querySelector(".js-comics-input-title"),v=document.querySelector(".js-comics-select-format"),p=document.querySelector(".js-comics-select-order"),y=document.querySelector(".js-comics-select-year");y.insertAdjacentHTML("afterbegin",(()=>{let e=[];for(let t=2023;t>1949;t-=1)e.push(`<option>${t}</option>`);return e.join("")})());let w=e=>e.map(({id:e,thumbnail:t,title:r})=>`<li class="comics-sort-item">
      <a class="comics-sort-link">
        <img class="comics-sort-img"
        data-set="${e}"
        src="${t.path}.${t.extension}"
        alt="${r}"
      />
          <div class="comics-sort-context">
          <h3  class="comics-sort-title" data-set="${e}">${r}</h3>
          </div>
          </a>
      </li>
    `).join(""),b=()=>{f.innerHTML=""},j=e=>{f.insertAdjacentHTML("beforeend",w(e))},S=()=>{g.scrollIntoView({behavior:"smooth"})},q=document.querySelector(".tui-pagination"),x={totalItems:0,itemsPerPage:u,visiblePages:3},E=new(l&&l.__esModule?l.default:l)(q,x),T=async()=>{(0,a.showLoader)();try{let e=await (0,s.api).getComics({limit:u,offset:0});(0,a.hideLoader)(),b(),j(e.results),q.classList.remove("is-hidden"),E.reset(e.total),E.on("beforeMove",async e=>{let t=e.page,r=u*(t-1);try{(0,a.showLoader)();let e=await (0,s.api).getComics({offset:r,limit:u,titleStartsWith:c,format:n,orderBy:d});(0,a.hideLoader)(),b(),j(e.results),S()}catch(e){(0,a.hideLoader)(),location.replace("./error.html")}})}catch(e){(0,a.hideLoader)(),location.replace("./error.html")}};T();let M=async e=>{if(e.preventDefault(),e.target===L)c=L.value;else if(e.target===v)n=v.value;else if(e.target===p){let e=p.value;"Title"===e?d="title":"On Sale Date"===e&&(d="onsaleDate")}else e.target===y&&(m=y.value);try{(0,a.showLoader)();let e=await (0,s.api).getComics({limit:u,titleStartsWith:c,format:n,orderBy:d,startYear:m});if(console.log(e),0===e.results.length){f.innerHTML='<div class="nothing-seach"></div>',q.classList.add("is-hidden"),(0,a.hideLoader)();return}(0,a.hideLoader)(),E.reset(e.total),b(),j(e.results),S(),q.classList.remove("is-hidden"),L.value=""}catch(e){(0,a.hideLoader)(),location.replace("./error.html")}};y.addEventListener("change",M),p.addEventListener("change",M),v.addEventListener("change",M),h.addEventListener("submit",M);let P=document.querySelector(".js-header-search-comics"),$=document.querySelector(".js-header-form-comics"),D=null;D=(0,i.getItemsPerPage)();let I=()=>{P.scrollIntoView({behavior:"smooth"})},C=async e=>{e.preventDefault();let{target:t}=e,r=t.elements.searchName.value;if($.reset(),""!==r)try{(0,a.showLoader)();let e=await (0,s.api).getComics({titleStartsWith:r,limit:D,offset:0});if(0===e.total){(0,a.hideLoader)(),I();return}(0,a.hideLoader)(),I(),b(),j(e.results)}catch(e){(0,a.hideLoader)(),location.replace("./error.html")}};$.addEventListener("submit",C);let V=document.querySelector(".header-comics");window.addEventListener("scroll",()=>{0!==scrollY?V.classList.add("js-header-bg-comics"):V.classList.remove("js-header-bg-comics")})}();//# sourceMappingURL=comics.99aee18a.js.map

//# sourceMappingURL=comics.99aee18a.js.map
