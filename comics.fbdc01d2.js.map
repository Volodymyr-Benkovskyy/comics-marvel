{"mappings":"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","sources":["<anon>","src/comics.js","src/js/partialsJs/comics-header.js","src/js/partialsJs/sort-comics.js"],"sourcesContent":["(function () {\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirece98\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirece98\"] = parcelRequire;\n}\n\nvar $7lKJl = parcelRequire(\"7lKJl\");\n\nvar $2xl03 = parcelRequire(\"2xl03\");\n\nvar $81V9Z = parcelRequire(\"81V9Z\");\n\nvar $7lKJl = parcelRequire(\"7lKJl\");\n\nvar $81V9Z = parcelRequire(\"81V9Z\");\n\nvar $2xl03 = parcelRequire(\"2xl03\");\n\nvar $1VFfL = parcelRequire(\"1VFfL\");\n\n\nvar $bfVKR = parcelRequire(\"bfVKR\");\nlet $ac53288c2c422c67$var$queryTitle = \"\";\nlet $ac53288c2c422c67$var$queryFormat = \"\";\nlet $ac53288c2c422c67$var$queryComicsOrder = \"\";\nlet $ac53288c2c422c67$var$yearQuery = \"\";\nlet $ac53288c2c422c67$var$itemsPerPage = \"\";\n$ac53288c2c422c67$var$itemsPerPage = (0, $2xl03.getItemsPerPage)();\nconst $ac53288c2c422c67$var$formSearchComics = document.querySelector(\".js-comics-sort-form\");\nconst $ac53288c2c422c67$var$sortList = document.querySelector(\".js-comics-sort-container\");\nconst $ac53288c2c422c67$var$scrollStart = document.getElementById(\"comics-list\");\nconst $ac53288c2c422c67$var$inputTitleEl = document.querySelector(\".js-comics-input-title\");\nconst $ac53288c2c422c67$var$selectFormatEl = document.querySelector(\".js-comics-select-format\");\nconst $ac53288c2c422c67$var$selectComicsOrderEl = document.querySelector(\".js-comics-select-order\");\nconst $ac53288c2c422c67$var$selectDateEl = document.querySelector(\".js-comics-select-year\");\nconst $ac53288c2c422c67$var$onModalFilterComics = (event)=>{\n    const target = event.target; // Елемент, на який було клікнуто\n    const id = target.dataset.id;\n    // Перевіряємо, чи клікнуто на певному дитячому елементі\n    if (target.matches(\".comics-sort-img, .comics-sort-title\")) {\n        const clickEventFilterComics = {\n            target: target\n        };\n        (0, $bfVKR.onModalComicsClick)(clickEventFilterComics, id);\n    }\n};\n$ac53288c2c422c67$var$sortList.addEventListener(\"click\", $ac53288c2c422c67$var$onModalFilterComics);\nconst $ac53288c2c422c67$var$createSelectYears = ()=>{\n    let yearsArr = [];\n    for(let i = 2023; i > 1949; i -= 1)yearsArr.push(`<option>${i}</option>`);\n    return yearsArr.join(\"\");\n};\n$ac53288c2c422c67$var$selectDateEl.insertAdjacentHTML(\"afterbegin\", $ac53288c2c422c67$var$createSelectYears());\nconst $ac53288c2c422c67$var$createComicsList = (data)=>{\n    return data.map(({ id: id, thumbnail: thumbnail, title: title })=>{\n        return `<li class=\"comics-sort-item\">\n      <a class=\"comics-sort-link\">\n        <img class=\"comics-sort-img\"\n        data-id=\"${id}\"\n        src=\"${thumbnail.path}.${thumbnail.extension}\"\n        alt=\"${title}\"\n      />\n          <div class=\"comics-sort-context\">\n          <h3  class=\"comics-sort-title\" data-id=\"${id}\">${title}</h3>\n          </div>\n          </a>\n      </li>\n    `;\n    }).join(\"\");\n};\nconst $ac53288c2c422c67$export$98b61e727253333b = ()=>{\n    $ac53288c2c422c67$var$sortList.innerHTML = \"\";\n};\nconst $ac53288c2c422c67$export$dc0d8b8eb3129a0 = (data)=>{\n    $ac53288c2c422c67$var$sortList.insertAdjacentHTML(\"beforeend\", $ac53288c2c422c67$var$createComicsList(data));\n};\nconst $ac53288c2c422c67$var$scrollComPerPage = ()=>{\n    $ac53288c2c422c67$var$scrollStart.scrollIntoView({\n        behavior: \"smooth\"\n    });\n};\nconst $ac53288c2c422c67$var$wrapperPagination = document.querySelector(\".tui-pagination\");\nconst $ac53288c2c422c67$var$optionsPagination = {\n    totalItems: 0,\n    itemsPerPage: $ac53288c2c422c67$var$itemsPerPage,\n    visiblePages: 3\n};\nconst $ac53288c2c422c67$var$pagination = new (0, (/*@__PURE__*/$parcel$interopDefault($1VFfL)))($ac53288c2c422c67$var$wrapperPagination, $ac53288c2c422c67$var$optionsPagination);\nconst $ac53288c2c422c67$var$fechRandomComicsList = async ()=>{\n    (0, $81V9Z.showLoader)();\n    try {\n        const response = await (0, $7lKJl.api).getComics({\n            limit: $ac53288c2c422c67$var$itemsPerPage,\n            offset: 0\n        });\n        (0, $81V9Z.hideLoader)();\n        $ac53288c2c422c67$export$98b61e727253333b();\n        $ac53288c2c422c67$export$dc0d8b8eb3129a0(response.results);\n        $ac53288c2c422c67$var$wrapperPagination.classList.remove(\"is-hidden\");\n        $ac53288c2c422c67$var$pagination.reset(response.total);\n        $ac53288c2c422c67$var$pagination.on(\"beforeMove\", async (event)=>{\n            const currentPage = event.page;\n            let offset = $ac53288c2c422c67$var$itemsPerPage * (currentPage - 1);\n            try {\n                (0, $81V9Z.showLoader)();\n                const newResponse = await (0, $7lKJl.api).getComics({\n                    offset: offset,\n                    limit: $ac53288c2c422c67$var$itemsPerPage,\n                    titleStartsWith: $ac53288c2c422c67$var$queryTitle,\n                    format: $ac53288c2c422c67$var$queryFormat,\n                    orderBy: $ac53288c2c422c67$var$queryComicsOrder\n                });\n                (0, $81V9Z.hideLoader)();\n                $ac53288c2c422c67$export$98b61e727253333b();\n                $ac53288c2c422c67$export$dc0d8b8eb3129a0(newResponse.results);\n                $ac53288c2c422c67$var$scrollComPerPage();\n            } catch (error) {\n                (0, $81V9Z.hideLoader)();\n                //location.replace('./error.html');\n                console.log(error.message);\n            }\n        });\n    } catch (error) {\n        (0, $81V9Z.hideLoader)();\n        //location.replace('./error.html');\n        console.log(error.message);\n    }\n};\n$ac53288c2c422c67$var$fechRandomComicsList();\nconst $ac53288c2c422c67$var$fechTitleFormatOrderDate = async (event)=>{\n    event.preventDefault();\n    if (event.target === $ac53288c2c422c67$var$inputTitleEl) $ac53288c2c422c67$var$queryTitle = $ac53288c2c422c67$var$inputTitleEl.value;\n    else if (event.target === $ac53288c2c422c67$var$selectFormatEl) $ac53288c2c422c67$var$queryFormat = $ac53288c2c422c67$var$selectFormatEl.value;\n    else if (event.target === $ac53288c2c422c67$var$selectComicsOrderEl) {\n        const selectedValue = $ac53288c2c422c67$var$selectComicsOrderEl.value;\n        if (selectedValue === \"Title\") $ac53288c2c422c67$var$queryComicsOrder = \"title\";\n        else if (selectedValue === \"On Sale Date\") $ac53288c2c422c67$var$queryComicsOrder = \"onsaleDate\";\n    } else if (event.target === $ac53288c2c422c67$var$selectDateEl) $ac53288c2c422c67$var$yearQuery = $ac53288c2c422c67$var$selectDateEl.value;\n    try {\n        (0, $81V9Z.showLoader)();\n        const response = await (0, $7lKJl.api).getComics({\n            limit: $ac53288c2c422c67$var$itemsPerPage,\n            titleStartsWith: $ac53288c2c422c67$var$queryTitle,\n            format: $ac53288c2c422c67$var$queryFormat,\n            orderBy: $ac53288c2c422c67$var$queryComicsOrder,\n            startYear: $ac53288c2c422c67$var$yearQuery\n        });\n        console.log(response);\n        if (response.results.length === 0) {\n            $ac53288c2c422c67$var$sortList.innerHTML = '<div class=\"nothing-seach\"></div>';\n            $ac53288c2c422c67$var$wrapperPagination.classList.add(\"is-hidden\");\n            (0, $81V9Z.hideLoader)();\n            return;\n        }\n        (0, $81V9Z.hideLoader)();\n        $ac53288c2c422c67$var$pagination.reset(response.total);\n        $ac53288c2c422c67$export$98b61e727253333b();\n        $ac53288c2c422c67$export$dc0d8b8eb3129a0(response.results);\n        $ac53288c2c422c67$var$scrollComPerPage();\n        $ac53288c2c422c67$var$wrapperPagination.classList.remove(\"is-hidden\");\n        $ac53288c2c422c67$var$inputTitleEl.value = \"\";\n    } catch (error) {\n        (0, $81V9Z.hideLoader)();\n        //location.replace('./error.html');\n        console.log(error.message);\n    }\n};\n$ac53288c2c422c67$var$selectDateEl.addEventListener(\"change\", $ac53288c2c422c67$var$fechTitleFormatOrderDate);\n$ac53288c2c422c67$var$selectComicsOrderEl.addEventListener(\"change\", $ac53288c2c422c67$var$fechTitleFormatOrderDate);\n$ac53288c2c422c67$var$selectFormatEl.addEventListener(\"change\", $ac53288c2c422c67$var$fechTitleFormatOrderDate);\n$ac53288c2c422c67$var$formSearchComics.addEventListener(\"submit\", $ac53288c2c422c67$var$fechTitleFormatOrderDate);\n\n\nconst $32ee5dcda5427c11$var$galleryHeroComics = document.querySelector(\".js-header-search-comics\");\nconst $32ee5dcda5427c11$var$formSearchComics = document.querySelector(\".js-header-form-comics\");\nlet $32ee5dcda5427c11$var$itemsPerPage = null;\n$32ee5dcda5427c11$var$itemsPerPage = (0, $2xl03.getItemsPerPage)();\nconst $32ee5dcda5427c11$var$ScrollComics = ()=>{\n    $32ee5dcda5427c11$var$galleryHeroComics.scrollIntoView({\n        behavior: \"smooth\"\n    });\n};\nconst $32ee5dcda5427c11$var$onSearchInputSubmitComics = async (event)=>{\n    event.preventDefault();\n    const { target: formEl } = event;\n    let queryComics = formEl.elements.searchName.value;\n    $32ee5dcda5427c11$var$formSearchComics.reset();\n    if (queryComics !== \"\") try {\n        (0, $81V9Z.showLoader)();\n        const response = await (0, $7lKJl.api).getComics({\n            titleStartsWith: queryComics,\n            limit: $32ee5dcda5427c11$var$itemsPerPage,\n            offset: 0\n        });\n        if (response.total === 0) {\n            (0, $81V9Z.hideLoader)();\n            $32ee5dcda5427c11$var$ScrollComics();\n            return;\n        }\n        (0, $81V9Z.hideLoader)();\n        $32ee5dcda5427c11$var$ScrollComics();\n        (0, $ac53288c2c422c67$export$98b61e727253333b)();\n        (0, $ac53288c2c422c67$export$dc0d8b8eb3129a0)(response.results);\n    } catch (error) {\n        (0, $81V9Z.hideLoader)();\n        //location.replace('./error.html');\n        console.log(error.message);\n    }\n};\n$32ee5dcda5427c11$var$formSearchComics.addEventListener(\"submit\", $32ee5dcda5427c11$var$onSearchInputSubmitComics);\nconst $32ee5dcda5427c11$var$headerScrollComics = document.querySelector(\".header-comics\");\nconst $32ee5dcda5427c11$export$5c500a2909d64daa = ()=>{\n    if (scrollY !== 0) $32ee5dcda5427c11$var$headerScrollComics.classList.add(\"js-header-bg-comics\");\n    else $32ee5dcda5427c11$var$headerScrollComics.classList.remove(\"js-header-bg-comics\");\n};\nwindow.addEventListener(\"scroll\", $32ee5dcda5427c11$export$5c500a2909d64daa);\n\n\n\nparcelRequire(\"hC9mB\");\nparcelRequire(\"bfVKR\");\n\n})();\n//# sourceMappingURL=comics.fbdc01d2.js.map\n","import './js/partialsJs/comics-header';\nimport './js/partialsJs/sort-comics';\nimport './js/partialsJs/modal-characters';\nimport './js/partialsJs/modal-comics';\n","import { api } from './apiMarvel';\nimport { getItemsPerPage } from '../helpers/getItemsPerPage.js';\nimport { showLoader, hideLoader } from '../helpers/loader.js';\nimport { renderSortComicsList, clearSortComicsList } from './sort-comics';\n\nconst galleryHeroComics = document.querySelector('.js-header-search-comics');\nconst formSearchComics = document.querySelector('.js-header-form-comics');\n\nlet itemsPerPage = null;\n\nitemsPerPage = getItemsPerPage();\n\nconst ScrollComics = () => {\n  galleryHeroComics.scrollIntoView({ behavior: 'smooth' });\n};\n\nconst onSearchInputSubmitComics = async event => {\n  event.preventDefault();\n  const { target: formEl } = event;\n  let queryComics = formEl.elements.searchName.value;\n  formSearchComics.reset();\n\n  if (queryComics !== '') {\n    try {\n      showLoader();\n      const response = await api.getComics({\n        titleStartsWith: queryComics,\n        limit: itemsPerPage,\n        offset: 0,\n      });\n\n      if (response.total === 0) {\n        hideLoader();\n        ScrollComics();\n        return;\n      }\n      hideLoader();\n      ScrollComics();\n      clearSortComicsList();\n      renderSortComicsList(response.results);\n    } catch (error) {\n      hideLoader();\n      //location.replace('./error.html');\n      console.log(error.message);\n    }\n  }\n};\n\nformSearchComics.addEventListener('submit', onSearchInputSubmitComics);\n\nconst headerScrollComics = document.querySelector('.header-comics');\n\nexport const onHeaderScrollComics = () => {\n  if (scrollY !== 0) {\n    headerScrollComics.classList.add('js-header-bg-comics');\n  } else {\n    headerScrollComics.classList.remove('js-header-bg-comics');\n  }\n};\n\nwindow.addEventListener('scroll', onHeaderScrollComics);\n","import { api } from './apiMarvel';\nimport { showLoader, hideLoader } from '../helpers/loader';\nimport { getItemsPerPage } from '../helpers/getItemsPerPage.js';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { onModalComicsClick } from './modal-comics';\n\nlet queryTitle = '';\nlet queryFormat = '';\nlet queryComicsOrder = '';\nlet yearQuery = '';\n\nlet itemsPerPage = '';\nitemsPerPage = getItemsPerPage();\n\nconst formSearchComics = document.querySelector('.js-comics-sort-form');\nconst sortList = document.querySelector('.js-comics-sort-container');\nconst scrollStart = document.getElementById('comics-list');\nconst inputTitleEl = document.querySelector('.js-comics-input-title');\nconst selectFormatEl = document.querySelector('.js-comics-select-format');\nconst selectComicsOrderEl = document.querySelector('.js-comics-select-order');\nconst selectDateEl = document.querySelector('.js-comics-select-year');\n\nconst onModalFilterComics = event => {\n  const target = event.target; // Елемент, на який було клікнуто\n  const id = target.dataset.id;\n\n  // Перевіряємо, чи клікнуто на певному дитячому елементі\n  if (target.matches('.comics-sort-img, .comics-sort-title')) {\n    const clickEventFilterComics = { target };\n    onModalComicsClick(clickEventFilterComics, id);\n  }\n};\n\nsortList.addEventListener('click', onModalFilterComics);\n\nconst createSelectYears = () => {\n  let yearsArr = [];\n  for (let i = 2023; i > 1949; i -= 1) {\n    yearsArr.push(`<option>${i}</option>`);\n  }\n  return yearsArr.join('');\n};\nselectDateEl.insertAdjacentHTML('afterbegin', createSelectYears());\n\nconst createComicsList = data => {\n  return data\n    .map(({ id, thumbnail, title }) => {\n      return `<li class=\"comics-sort-item\">\n      <a class=\"comics-sort-link\">\n        <img class=\"comics-sort-img\"\n        data-id=\"${id}\"\n        src=\"${thumbnail.path}.${thumbnail.extension}\"\n        alt=\"${title}\"\n      />\n          <div class=\"comics-sort-context\">\n          <h3  class=\"comics-sort-title\" data-id=\"${id}\">${title}</h3>\n          </div>\n          </a>\n      </li>\n    `;\n    })\n    .join('');\n};\n\nexport const clearSortComicsList = () => {\n  sortList.innerHTML = '';\n};\n\nexport const renderSortComicsList = data => {\n  sortList.insertAdjacentHTML('beforeend', createComicsList(data));\n};\n\nconst scrollComPerPage = () => {\n  scrollStart.scrollIntoView({ behavior: 'smooth' });\n};\n\nconst wrapperPagination = document.querySelector('.tui-pagination');\nconst optionsPagination = {\n  totalItems: 0,\n  itemsPerPage: itemsPerPage,\n  visiblePages: 3,\n};\nconst pagination = new Pagination(wrapperPagination, optionsPagination);\n\nconst fechRandomComicsList = async () => {\n  showLoader();\n  try {\n    const response = await api.getComics({\n      limit: itemsPerPage,\n      offset: 0,\n    });\n    hideLoader();\n    clearSortComicsList();\n    renderSortComicsList(response.results);\n    wrapperPagination.classList.remove('is-hidden');\n\n    pagination.reset(response.total);\n    pagination.on('beforeMove', async event => {\n      const currentPage = event.page;\n      let offset = itemsPerPage * (currentPage - 1);\n\n      try {\n        showLoader();\n        const newResponse = await api.getComics({\n          offset: offset,\n          limit: itemsPerPage,\n          titleStartsWith: queryTitle,\n          format: queryFormat,\n          orderBy: queryComicsOrder,\n        });\n        hideLoader();\n        clearSortComicsList();\n        renderSortComicsList(newResponse.results);\n        scrollComPerPage();\n      } catch (error) {\n        hideLoader();\n        //location.replace('./error.html');\n        console.log(error.message);\n      }\n    });\n  } catch (error) {\n    hideLoader();\n    //location.replace('./error.html');\n    console.log(error.message);\n  }\n};\nfechRandomComicsList();\n\nconst fechTitleFormatOrderDate = async event => {\n  event.preventDefault();\n\n  if (event.target === inputTitleEl) {\n    queryTitle = inputTitleEl.value;\n  } else if (event.target === selectFormatEl) {\n    queryFormat = selectFormatEl.value;\n  } else if (event.target === selectComicsOrderEl) {\n    const selectedValue = selectComicsOrderEl.value;\n\n    if (selectedValue === 'Title') {\n      queryComicsOrder = 'title';\n    } else if (selectedValue === 'On Sale Date') {\n      queryComicsOrder = 'onsaleDate';\n    }\n  } else if (event.target === selectDateEl) {\n    yearQuery = selectDateEl.value;\n  }\n  try {\n    showLoader();\n    const response = await api.getComics({\n      limit: itemsPerPage,\n      titleStartsWith: queryTitle,\n      format: queryFormat,\n      orderBy: queryComicsOrder,\n      startYear: yearQuery,\n    });\n    console.log(response);\n\n    if (response.results.length === 0) {\n      sortList.innerHTML = '<div class=\"nothing-seach\"></div>';\n      wrapperPagination.classList.add('is-hidden');\n      hideLoader();\n      return;\n    }\n    hideLoader();\n    pagination.reset(response.total);\n    clearSortComicsList();\n    renderSortComicsList(response.results);\n    scrollComPerPage();\n    wrapperPagination.classList.remove('is-hidden');\n    inputTitleEl.value = '';\n  } catch (error) {\n    hideLoader();\n    //location.replace('./error.html');\n    console.log(error.message);\n  }\n};\n\nselectDateEl.addEventListener('change', fechTitleFormatOrderDate);\nselectComicsOrderEl.addEventListener('change', fechTitleFormatOrderDate);\nselectFormatEl.addEventListener('change', fechTitleFormatOrderDate);\nformSearchComics.addEventListener('submit', fechTitleFormatOrderDate);\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$7lKJl","$2xl03","$81V9Z","$1VFfL","$bfVKR","$ac53288c2c422c67$var$queryTitle","$ac53288c2c422c67$var$queryFormat","$ac53288c2c422c67$var$queryComicsOrder","$ac53288c2c422c67$var$yearQuery","$ac53288c2c422c67$var$itemsPerPage","getItemsPerPage","$ac53288c2c422c67$var$formSearchComics","document","querySelector","$ac53288c2c422c67$var$sortList","$ac53288c2c422c67$var$scrollStart","getElementById","$ac53288c2c422c67$var$inputTitleEl","$ac53288c2c422c67$var$selectFormatEl","$ac53288c2c422c67$var$selectComicsOrderEl","$ac53288c2c422c67$var$selectDateEl","addEventListener","event","target","dataset","matches","onModalComicsClick","insertAdjacentHTML","$ac53288c2c422c67$var$createSelectYears","yearsArr","i","push","join","$ac53288c2c422c67$var$createComicsList","data","map","thumbnail","title","path","extension","$ac53288c2c422c67$export$98b61e727253333b","innerHTML","$ac53288c2c422c67$export$dc0d8b8eb3129a0","$ac53288c2c422c67$var$scrollComPerPage","scrollIntoView","behavior","$ac53288c2c422c67$var$wrapperPagination","$ac53288c2c422c67$var$optionsPagination","totalItems","itemsPerPage","visiblePages","$ac53288c2c422c67$var$pagination","a","__esModule","default","$ac53288c2c422c67$var$fechRandomComicsList","showLoader","response","api","getComics","limit","offset","hideLoader","results","classList","remove","reset","total","on","currentPage","page","newResponse","titleStartsWith","format","orderBy","error","console","log","message","$ac53288c2c422c67$var$fechTitleFormatOrderDate","preventDefault","value","selectedValue","startYear","length","add","$32ee5dcda5427c11$var$galleryHeroComics","$32ee5dcda5427c11$var$formSearchComics","$32ee5dcda5427c11$var$itemsPerPage","$32ee5dcda5427c11$var$ScrollComics","$32ee5dcda5427c11$var$onSearchInputSubmitComics","formEl","queryComics","elements","searchName","$32ee5dcda5427c11$var$headerScrollComics","scrollY"],"version":3,"file":"comics.fbdc01d2.js.map"}